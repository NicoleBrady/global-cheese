!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.fecha=t()}(this,function(){"use strict";function n(){}var m={},f=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,t="[^\\s]+",o=/\[([^]*?)\]/gm;function e(n,t){for(var e=[],r=0,u=n.length;r<u;r++)e.push(n[r].substr(0,t));return e}function r(u){return function(n,t,e){var r=e[u].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());~r&&(n.month=r)}}function u(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n}var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],d=e(i,3),s=e(a,3);m.i18n={dayNamesShort:s,dayNames:a,monthNamesShort:d,monthNames:i,amPm:["am","pm"],DoFn:function(n){return n+["th","st","nd","rd"][3<n%10?0:(n-n%10!=10)*n%10]}};var c={D:function(n){return n.getDate()},DD:function(n){return u(n.getDate())},Do:function(n,t){return t.DoFn(n.getDate())},d:function(n){return n.getDay()},dd:function(n){return u(n.getDay())},ddd:function(n,t){return t.dayNamesShort[n.getDay()]},dddd:function(n,t){return t.dayNames[n.getDay()]},M:function(n){return n.getMonth()+1},MM:function(n){return u(n.getMonth()+1)},MMM:function(n,t){return t.monthNamesShort[n.getMonth()]},MMMM:function(n,t){return t.monthNames[n.getMonth()]},YY:function(n){return u(String(n.getFullYear()),4).substr(2)},YYYY:function(n){return u(n.getFullYear(),4)},h:function(n){return n.getHours()%12||12},hh:function(n){return u(n.getHours()%12||12)},H:function(n){return n.getHours()},HH:function(n){return u(n.getHours())},m:function(n){return n.getMinutes()},mm:function(n){return u(n.getMinutes())},s:function(n){return n.getSeconds()},ss:function(n){return u(n.getSeconds())},S:function(n){return Math.round(n.getMilliseconds()/100)},SS:function(n){return u(Math.round(n.getMilliseconds()/10),2)},SSS:function(n){return u(n.getMilliseconds(),3)},a:function(n,t){return n.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(n,t){return n.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(n){var t=n.getTimezoneOffset();return(0<t?"-":"+")+u(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},h={D:["\\d\\d?",function(n,t){n.day=t}],Do:["\\d\\d?"+t,function(n,t){n.day=parseInt(t,10)}],M:["\\d\\d?",function(n,t){n.month=t-1}],YY:["\\d\\d?",function(n,t){var e=+(""+(new Date).getFullYear()).substr(0,2);n.year=""+(68<t?e-1:e)+t}],h:["\\d\\d?",function(n,t){n.hour=t}],m:["\\d\\d?",function(n,t){n.minute=t}],s:["\\d\\d?",function(n,t){n.second=t}],YYYY:["\\d{4}",function(n,t){n.year=t}],S:["\\d",function(n,t){n.millisecond=100*t}],SS:["\\d{2}",function(n,t){n.millisecond=10*t}],SSS:["\\d{3}",function(n,t){n.millisecond=t}],d:["\\d\\d?",n],ddd:[t,n],MMM:[t,r("monthNamesShort")],MMMM:[t,r("monthNames")],a:[t,function(n,t,e){var r=t.toLowerCase();r===e.amPm[0]?n.isPm=!1:r===e.amPm[1]&&(n.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(n,t){var e,r=(t+"").match(/([+-]|\d\d)/gi);r&&(e=60*r[1]+parseInt(r[2],10),n.timezoneOffset="+"===r[0]?e:-e)}]};return h.dd=h.d,h.dddd=h.ddd,h.DD=h.D,h.mm=h.m,h.hh=h.H=h.HH=h.h,h.MM=h.M,h.ss=h.s,h.A=h.a,m.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},m.format=function(t,n,e){var r=e||m.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var u=[];return(n=(n=(n=m.masks[n]||n||m.masks.default).replace(o,function(n,t){return u.push(t),"??"})).replace(f,function(n){return n in c?c[n](t,r):n.slice(1,n.length-1)})).replace(/\?\?/g,function(){return u.shift()})},m.parse=function(n,t,e){var r=e||m.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=m.masks[t]||t,1e3<n.length)return null;var u={},o=[],a=t.replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(f,function(n){if(h[n]){var t=h[n];return o.push(t[1]),"("+t[0]+")"}return n}),i=n.match(new RegExp(a,"i"));if(!i)return null;for(var d=1;d<i.length;d++)o[d-1](u,i[d],r);var s=new Date;return!0===u.isPm&&null!=u.hour&&12!=+u.hour?u.hour=+u.hour+12:!1===u.isPm&&12==+u.hour&&(u.hour=0),null!=u.timezoneOffset?(u.minute=(u.minute||0)-u.timezoneOffset,new Date(Date.UTC(u.year||s.getFullYear(),u.month||0,u.day||1,u.hour||0,u.minute||0,u.second||0,u.millisecond||0))):new Date(u.year||s.getFullYear(),u.month||0,u.day||1,u.hour||0,u.minute||0,u.second||0,u.millisecond||0)},m});